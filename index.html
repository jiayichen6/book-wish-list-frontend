<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Wishlist</title>
    <link rel="stylesheet" href="./src/main.css" />
    <html data-theme="garden"></html>
    <script type="module" src="./src/main.js"></script>
  </head>

  <body>
    <main>
      <div
        x-data="authControl()"
        x-init="$store.booksApp.authControl = $data"
        x-cloak
      >
        <!-- register -->
        <form
          x-show="$store.booksApp.currentPage == 'register'"
          action="#"
          method="post"
          class="flex flex-col container mx-auto gap-5 my-10 px-10 text-center"
        >
          <div class="flex flex-col">
            <h1 class="text-3xl">註冊</h1>
            <div class="divider lg:px-40"></div>
            <div class="mx-auto flex flex-col gap-2">
              <label for="email" class="label">Email</label>
              <label class="input validator w-[300px]">
                <svg
                  class="h-[1em] opacity-50"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                >
                  <g
                    stroke-linejoin="round"
                    stroke-linecap="round"
                    stroke-width="2.5"
                    fill="none"
                    stroke="currentColor"
                  >
                    <rect width="20" height="16" x="2" y="4" rx="2"></rect>
                    <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
                  </g>
                </svg>
                <input
                  x-model="email"
                  type="text"
                  placeholder="mail@site.com"
                  id="email"
                  name="email"
                />
              </label>
            </div>
          </div>

          <div class="flex flex-col">
            <div class="mx-auto flex flex-col gap-2">
              <label for="password" class="label">Password</label>
              <label class="input validator w-[300px]">
                <svg
                  class="h-[1em] opacity-50"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                >
                  <g
                    stroke-linejoin="round"
                    stroke-linecap="round"
                    stroke-width="2.5"
                    fill="none"
                    stroke="currentColor"
                  >
                    <path
                      d="M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"
                    ></path>
                    <circle
                      cx="16.5"
                      cy="7.5"
                      r=".5"
                      fill="currentColor"
                    ></circle>
                  </g>
                </svg>
                <input
                  x-model="password"
                  type="password"
                  placeholder="Password"
                  id="password"
                  name="password"
                />
              </label>
            </div>
          </div>

          <div>
            <button
              @click.prevent="register"
              class="btn btn-soft"
              :disabled="!isAllowToRegister"
            >
              註冊
            </button>
          </div>
          <p>
            已經有帳號？立即
            <a @click="goLogin" href="#" class="border-b-2 border-black"
              >登入</a
            >
          </p>
        </form>

        <!-- login -->
        <form
          x-show="$store.booksApp.currentPage == 'logIn'"
          action="#"
          method="post"
          class="flex flex-col container mx-auto gap-5 my-10 px-10 text-center"
        >
          <div class="flex flex-col">
            <h1 class="text-3xl">登入</h1>
            <div class="divider lg:px-40"></div>
            <div class="mx-auto flex flex-col gap-2">
              <label for="email-login" class="label">Email</label>
              <label class="input validator w-[300px]">
                <svg
                  class="h-[1em] opacity-50"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                >
                  <g
                    stroke-linejoin="round"
                    stroke-linecap="round"
                    stroke-width="2.5"
                    fill="none"
                    stroke="currentColor"
                  >
                    <rect width="20" height="16" x="2" y="4" rx="2"></rect>
                    <path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7"></path>
                  </g>
                </svg>
                <input
                  x-model="email"
                  type="text"
                  placeholder="mail@site.com"
                  id="email-login"
                  name="email"
                />
              </label>
            </div>
          </div>

          <div class="flex flex-col">
            <div class="mx-auto flex flex-col gap-2">
              <label for="password-logIn" class="label">Password</label>
              <label class="input validator w-[300px]">
                <svg
                  class="h-[1em] opacity-50"
                  xmlns="http://www.w3.org/2000/svg"
                  viewBox="0 0 24 24"
                >
                  <g
                    stroke-linejoin="round"
                    stroke-linecap="round"
                    stroke-width="2.5"
                    fill="none"
                    stroke="currentColor"
                  >
                    <path
                      d="M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z"
                    ></path>
                    <circle
                      cx="16.5"
                      cy="7.5"
                      r=".5"
                      fill="currentColor"
                    ></circle>
                  </g>
                </svg>
                <input
                  x-model="password"
                  type="password"
                  placeholder="Password"
                  id="password-logIn"
                  name="password"
                />
              </label>
            </div>
          </div>

          <div>
            <button
              @click.prevent="logIn"
              class="btn btn-soft"
              :disabled="!isAllowToLogIn"
            >
              登入
            </button>
          </div>
          <p>
            還沒有帳號？立即
            <a @click="goRegister" href="#" class="border-b-2 border-black"
              >註冊</a
            >
          </p>
        </form>
      </div>

      <!-- books wish list -->
      <div x-data x-show="$store.booksApp.currentPage == 'bookLists'">
        <div class="flex px-10 lg:px-40 items-center justify-between">
          <h1 class="text-4xl my-10 mb-5">My Books Wish List</h1>

          <button
            @click="$store.booksApp.authControl.logOut()"
            class="btn btn-soft"
          >
            登出
          </button>
        </div>
        <div class="divider px-10 lg:px-40"></div>

        <!-- search -->
        <div x-data="searchControl" class="px-10 lg:px-40">
          <label class="input w-full">
            <svg
              class="h-[1em] opacity-50"
              xmlns="http://www.w3.org/2000/svg"
              viewBox="0 0 24 24"
            >
              <g
                stroke-linejoin="round"
                stroke-linecap="round"
                stroke-width="2.5"
                fill="none"
                stroke="currentColor"
              >
                <circle cx="11" cy="11" r="8"></circle>
                <path d="m21 21-4.3-4.3"></path>
              </g>
            </svg>
            <input
              x-model="$store.booksApp.searchInput"
              @input="searchBooks"
              type="search"
              class="grow"
              placeholder="Search Book By title or Author"
              name="searchInput"
            />
          </label>
        </div>

        <!-- book lists -->
        <section
          x-data="bookListsControl"
          x-effect="$store.booksApp.currentPage == 'bookLists' && getAllBooks"
          x-init="$store.booksApp.bookControl = $data"
          class="tabs tabs-lift p-10 lg:px-40"
        >
          <!-- 1 -->
          <label @click="goAll" class="tab">
            <input type="radio" name="my_tabs_4" checked="checked" />
            <svg
              class="mr-1"
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              viewBox="0 0 256 256"
            >
              <path
                d="M232,44H160a43.86,43.86,0,0,0-32,13.85A43.86,43.86,0,0,0,96,44H24A12,12,0,0,0,12,56V200a12,12,0,0,0,12,12H96a20,20,0,0,1,20,20,12,12,0,0,0,24,0,20,20,0,0,1,20-20h72a12,12,0,0,0,12-12V56A12,12,0,0,0,232,44ZM96,188H36V68H96a20,20,0,0,1,20,20V192.81A43.79,43.79,0,0,0,96,188Zm124,0H160a43.71,43.71,0,0,0-20,4.83V88a20,20,0,0,1,20-20h60ZM164,96h32a12,12,0,0,1,0,24H164a12,12,0,0,1,0-24Zm44,52a12,12,0,0,1-12,12H164a12,12,0,0,1,0-24h32A12,12,0,0,1,208,148Z"
              ></path>
            </svg>

            All Books
          </label>
          <div class="tab-content bg-base-100 border-base-300 p-6">
            <ul class="list bg-base-100 rounded-box shadow-md">
              <template
                x-for="book in $store.booksApp.currentBooks"
                :key="book.key"
              >
                <li @click="$store.booksApp.selectedBook = book">
                  <div class="px-4 flex gap-3 mt-8">
                    <template x-for="subject in book.subject">
                      <span
                        x-text="`#${subject}`"
                        class="rounded-sm bg-[#ddd] p-1 text-[7px] opacity-60 tracking-wide cursor-pointer"
                      ></span>
                    </template>
                  </div>
                  <div class="list-row items-center pt-3 cursor-pointer">
                    <div>
                      <img
                        class="size-20 rounded-box row-span-4"
                        :src="`https://covers.openlibrary.org/b/id/${book.coverId}-M.jpg`"
                      />
                    </div>
                    <div>
                      <div x-text="book.title" class="text-sm"></div>
                      <template x-for="author in book.authors">
                        <p
                          x-text="author"
                          class="text-xs uppercase font-semibold opacity-60"
                        ></p>
                      </template>
                      <p
                        x-text="book.description"
                        class="opacity-60 list-col-wrap text-[9px] line-clamp-2 mt-2"
                      ></p>
                    </div>
                    <!-- btn1 -->
                    <button
                      @click.stop="setToRead(book)"
                      class="btn btn-square btn-ghost disabled:opacity-30"
                      :disabled="book.isPending"
                    >
                      <template x-if="book.readState !== 'toRead'">
                        <svg
                          class="size-[1.3em]"
                          xmlns="http://www.w3.org/2000/svg"
                          width="32"
                          height="32"
                          fill="#000000"
                          viewBox="0 0 256 256"
                        >
                          <path
                            d="M184,28H72A20,20,0,0,0,52,48V224a12,12,0,0,0,18.36,10.18l57.63-36,57.65,36A12,12,0,0,0,204,224V48A20,20,0,0,0,184,28Zm-4,174.35-45.65-28.53a12,12,0,0,0-12.72,0L76,202.35V52H180Z"
                          ></path>
                        </svg>
                      </template>

                      <template x-if="book.readState === 'toRead'">
                        <svg
                          class="size-[1.3em]"
                          xmlns="http://www.w3.org/2000/svg"
                          width="32"
                          height="32"
                          fill="#000000"
                          viewBox="0 0 256 256"
                        >
                          <path
                            d="M184,32H72A16,16,0,0,0,56,48V224a8,8,0,0,0,12.24,6.78L128,193.43l59.77,37.35A8,8,0,0,0,200,224V48A16,16,0,0,0,184,32Z"
                          ></path>
                        </svg>
                      </template>
                    </button>
                    <!-- btn2 -->
                    <button
                      @click.stop="setFinished(book)"
                      class="btn btn-square btn-ghost disabled:opacity-30"
                      :disabled="book.isPending"
                    >
                      <template x-if="book.readState !== 'finished'">
                        <svg
                          class="size-[1.3em]"
                          xmlns="http://www.w3.org/2000/svg"
                          width="32"
                          height="32"
                          fill="#000000"
                          viewBox="0 0 256 256"
                        >
                          <path
                            d="M228,128a12,12,0,0,1-12,12H140v76a12,12,0,0,1-24,0V140H40a12,12,0,0,1,0-24h76V40a12,12,0,0,1,24,0v76h76A12,12,0,0,1,228,128Z"
                          ></path>
                        </svg>
                      </template>

                      <template x-if="book.readState === 'finished'">
                        <svg
                          class="size-[1.3em]"
                          xmlns="http://www.w3.org/2000/svg"
                          fill="#000000"
                          viewBox="0 0 256 256"
                        >
                          <path
                            d="M232.49,80.49l-128,128a12,12,0,0,1-17,0l-56-56a12,12,0,1,1,17-17L96,183,215.51,63.51a12,12,0,0,1,17,17Z"
                          ></path>
                        </svg>
                      </template>
                    </button>
                  </div>
                </li>
              </template>
            </ul>
          </div>

          <!-- 2 -->
          <label @click="goToRead;getAllBooks" class="tab">
            <input type="radio" name="my_tabs_4" />
            <svg
              class="mr-1"
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              viewBox="0 0 256 256"
            >
              <path
                d="M184,32H72A16,16,0,0,0,56,48V224a8,8,0,0,0,12.24,6.78L128,193.43l59.77,37.35A8,8,0,0,0,200,224V48A16,16,0,0,0,184,32Zm0,177.57-51.77-32.35a8,8,0,0,0-8.48,0L72,209.57V48H184Z"
              ></path>
            </svg>
            To Read
          </label>
          <div class="tab-content bg-base-100 border-base-300 p-6">
            <ul class="list bg-base-100 rounded-box shadow-md">
              <template
                x-for="book in $store.booksApp.currentBooks"
                :key="book.key"
              >
                <li @click="$store.booksApp.selectedBook = book">
                  <div class="px-4 flex gap-3 mt-8">
                    <template x-for="subject in book.subject">
                      <span
                        x-text="`#${subject}`"
                        class="rounded-sm bg-[#ddd] p-1 text-[7px] opacity-60 tracking-wide cursor-pointer"
                      ></span>
                    </template>
                  </div>
                  <div class="list-row items-center pt-3 cursor-pointer">
                    <div>
                      <img
                        class="size-20 rounded-box row-span-4"
                        :src="`https://covers.openlibrary.org/b/id/${book.coverId}-M.jpg`"
                      />
                    </div>
                    <div>
                      <div x-text="book.title" class="text-sm"></div>
                      <template x-for="author in book.authors">
                        <p
                          x-text="author"
                          class="text-xs uppercase font-semibold opacity-60"
                        ></p>
                      </template>
                      <p
                        x-text="book.description"
                        class="opacity-60 list-col-wrap text-[9px] line-clamp-2 mt-2"
                      ></p>
                    </div>
                    <!-- btn1 -->
                    <button
                      @click="setToRead(book)"
                      class="btn btn-square btn-ghost disabled:opacity-30"
                      :disabled="book.isPending"
                    >
                      <svg
                        class="size-[1.3em]"
                        xmlns="http://www.w3.org/2000/svg"
                        width="32"
                        height="32"
                        fill="#000000"
                        viewBox="0 0 256 256"
                      >
                        <path
                          d="M184,32H72A16,16,0,0,0,56,48V224a8,8,0,0,0,12.24,6.78L128,193.43l59.77,37.35A8,8,0,0,0,200,224V48A16,16,0,0,0,184,32Z"
                        ></path>
                      </svg>
                    </button>
                    <!-- btn2 -->
                    <button
                      @click="setFinished(book)"
                      class="btn btn-square btn-ghost disabled:opacity-30"
                      :disabled="book.isPending"
                    >
                      <svg
                        class="size-[1.3em]"
                        xmlns="http://www.w3.org/2000/svg"
                        width="32"
                        height="32"
                        fill="#000000"
                        viewBox="0 0 256 256"
                      >
                        <path
                          d="M228,128a12,12,0,0,1-12,12H140v76a12,12,0,0,1-24,0V140H40a12,12,0,0,1,0-24h76V40a12,12,0,0,1,24,0v76h76A12,12,0,0,1,228,128Z"
                        ></path>
                      </svg>
                    </button>
                  </div>
                </li>
              </template>
            </ul>
          </div>

          <!-- 3 -->
          <label @click="gofinished;getAllBooks" class="tab">
            <input type="radio" name="my_tabs_4" />
            <svg
              class="mr-1"
              xmlns="http://www.w3.org/2000/svg"
              width="16"
              height="16"
              fill="currentColor"
              viewBox="0 0 256 256"
            >
              <path
                d="M232.49,80.49l-128,128a12,12,0,0,1-17,0l-56-56a12,12,0,1,1,17-17L96,183,215.51,63.51a12,12,0,0,1,17,17Z"
              ></path>
            </svg>
            finished
          </label>
          <div class="tab-content bg-base-100 border-base-300 p-6">
            <ul class="list bg-base-100 rounded-box shadow-md">
              <template
                x-for="book in $store.booksApp.currentBooks"
                :key="book.key"
              >
                <li @click="$store.booksApp.selectedBook = book">
                  <div class="px-4 flex gap-3 mt-8">
                    <template x-for="subject in book.subject">
                      <span
                        x-text="`#${subject}`"
                        class="rounded-sm bg-[#ddd] p-1 text-[7px] opacity-60 tracking-wide cursor-pointer"
                      ></span>
                    </template>
                  </div>
                  <div class="list-row items-center pt-3 cursor-pointer">
                    <div>
                      <img
                        class="size-20 rounded-box row-span-4"
                        :src="`https://covers.openlibrary.org/b/id/${book.coverId}-M.jpg`"
                      />
                    </div>
                    <div>
                      <div x-text="book.title" class="text-sm"></div>
                      <template x-for="author in book.authors">
                        <p
                          x-text="author"
                          class="text-xs uppercase font-semibold opacity-60"
                        ></p>
                      </template>
                      <p
                        x-text="book.description"
                        class="opacity-60 list-col-wrap text-[9px] line-clamp-2 mt-2"
                      ></p>
                    </div>
                    <!-- btn1 -->
                    <button
                      @click="setToRead(book)"
                      class="btn btn-square btn-ghost disabled:opacity-30"
                      :disabled="book.isPending"
                    >
                      <svg
                        class="size-[1.3em]"
                        xmlns="http://www.w3.org/2000/svg"
                        width="32"
                        height="32"
                        fill="#000000"
                        viewBox="0 0 256 256"
                      >
                        <path
                          d="M184,28H72A20,20,0,0,0,52,48V224a12,12,0,0,0,18.36,10.18l57.63-36,57.65,36A12,12,0,0,0,204,224V48A20,20,0,0,0,184,28Zm-4,174.35-45.65-28.53a12,12,0,0,0-12.72,0L76,202.35V52H180Z"
                        ></path>
                      </svg>
                    </button>
                    <!-- btn2 -->
                    <button
                      @click="setFinished(book)"
                      class="btn btn-square btn-ghost disabled:opacity-30"
                      :disabled="book.isPending"
                    >
                      <svg
                        class="size-[1.3em]"
                        xmlns="http://www.w3.org/2000/svg"
                        fill="#000000"
                        viewBox="0 0 256 256"
                      >
                        <path
                          d="M232.49,80.49l-128,128a12,12,0,0,1-17,0l-56-56a12,12,0,1,1,17-17L96,183,215.51,63.51a12,12,0,0,1,17,17Z"
                        ></path>
                      </svg>
                    </button>
                    <!-- btn3 -->
                    <button
                      @click.stop="toggleFavorite(book)"
                      class="btn btn-square btn-ghost disabled:opacity-30"
                      :disabled="book.isPending"
                    >
                      <template x-if="book.isFavorite == false">
                        <svg
                          class="size-[1.3em]"
                          xmlns="http://www.w3.org/2000/svg"
                          width="16"
                          height="16"
                          fill="#000000"
                          viewBox="0 0 256 256"
                        >
                          <path
                            d="M225.84,54.13A62.07,62.07,0,0,0,138.32,54L128,63.58,117.68,54a62,62,0,0,0-87.58,87.8l89.35,90.65a12,12,0,0,0,17.1,0l89.29-90.59a62,62,0,0,0,0-87.7Zm-17,70.79L128,206.9,47.13,124.85a38,38,0,0,1,53.74-53.74c.1.1.2.2.31.29l18.64,17.36a12,12,0,0,0,16.36,0L154.82,71.4c.11-.09.21-.19.31-.29a38,38,0,1,1,53.68,53.81Z"
                          ></path>
                        </svg>
                      </template>

                      <template x-if="book.isFavorite == true">
                        <svg
                          class="size-[1.3em]"
                          xmlns="http://www.w3.org/2000/svg"
                          width="16"
                          height="16"
                          fill="#000000"
                          viewBox="0 0 256 256"
                        >
                          <path
                            d="M240,98a57.63,57.63,0,0,1-17,41L133.7,229.62a8,8,0,0,1-11.4,0L33,139a58,58,0,0,1,82-82.1L128,69.05l13.09-12.19A58,58,0,0,1,240,98Z"
                          ></path>
                        </svg>
                      </template>
                    </button>
                  </div>
                </li>
              </template>
            </ul>
          </div>
        </section>

        <!-- book card -->
        <template x-if="$store.booksApp.selectedBook">
          <div
            @click="$store.booksApp.selectedBook = null"
            class="fixed top-0 z-10 size-full flex justify-center items-center bg-black/50 cursor-pointer"
          >
            <div
              @click.stop
              class="w-[70%] xl:w-[50%] card card-side bg-base-100 shadow-sm"
            >
              <figure class="w-[40%]">
                <img
                  class="object-cover"
                  :src="`https://covers.openlibrary.org/b/id/${$store.booksApp.selectedBook.coverId}-M.jpg`"
                  alt="Movie"
                />
              </figure>
              <div class="card-body w-[60%]">
                <div class="flex gap-3">
                  <template
                    x-for="subject in $store.booksApp.selectedBook.subject"
                  >
                    <span
                      x-text="`#${subject}`"
                      class="rounded-sm bg-white p-1 text-[10px] opacity-60 tracking-wide cursor-pointer"
                    ></span>
                  </template>
                </div>
                <h2
                  x-text="$store.booksApp.selectedBook.title"
                  class="card-title text-xl"
                ></h2>
                <div>
                  <template
                    x-for="author in $store.booksApp.selectedBook.authors"
                  >
                    <p
                      x-text="author"
                      class="text-xs uppercase font-semibold opacity-60"
                    ></p>
                  </template>
                </div>
                <div class="divider m-0"></div>
                <p
                  x-text="$store.booksApp.selectedBook.description"
                  class="opacity-60 text-xs mt-2"
                ></p>

                <!-- btn -->
                <div class="flex gap-2 justify-end">
                  <!-- btn1 -->
                  <button
                    @click="$store.booksApp.bookControl.setToRead($store.booksApp.selectedBook)"
                    class="btn btn-square btn-ghost disabled:opacity-30"
                    :disabled="$store.booksApp.selectedBook.isPending"
                  >
                    <template
                      x-if="$store.booksApp.selectedBook.readState !== 'toRead'"
                    >
                      <svg
                        class="size-[1.3em]"
                        xmlns="http://www.w3.org/2000/svg"
                        width="32"
                        height="32"
                        fill="#000000"
                        viewBox="0 0 256 256"
                      >
                        <path
                          d="M184,28H72A20,20,0,0,0,52,48V224a12,12,0,0,0,18.36,10.18l57.63-36,57.65,36A12,12,0,0,0,204,224V48A20,20,0,0,0,184,28Zm-4,174.35-45.65-28.53a12,12,0,0,0-12.72,0L76,202.35V52H180Z"
                        ></path>
                      </svg>
                    </template>

                    <template
                      x-if="$store.booksApp.selectedBook.readState === 'toRead'"
                    >
                      <svg
                        class="size-[1.3em]"
                        xmlns="http://www.w3.org/2000/svg"
                        width="32"
                        height="32"
                        fill="#000000"
                        viewBox="0 0 256 256"
                      >
                        <path
                          d="M184,32H72A16,16,0,0,0,56,48V224a8,8,0,0,0,12.24,6.78L128,193.43l59.77,37.35A8,8,0,0,0,200,224V48A16,16,0,0,0,184,32Z"
                        ></path>
                      </svg>
                    </template>
                  </button>
                  <!-- btn2 -->
                  <button
                    @click="$store.booksApp.bookControl.setFinished($store.booksApp.selectedBook)"
                    class="btn btn-square btn-ghost disabled:opacity-30"
                    :disabled="$store.booksApp.selectedBook.isPending"
                  >
                    <template
                      x-if="$store.booksApp.selectedBook.readState !== 'finished'"
                    >
                      <svg
                        class="size-[1.3em]"
                        xmlns="http://www.w3.org/2000/svg"
                        width="32"
                        height="32"
                        fill="#000000"
                        viewBox="0 0 256 256"
                      >
                        <path
                          d="M228,128a12,12,0,0,1-12,12H140v76a12,12,0,0,1-24,0V140H40a12,12,0,0,1,0-24h76V40a12,12,0,0,1,24,0v76h76A12,12,0,0,1,228,128Z"
                        ></path>
                      </svg>
                    </template>

                    <template
                      x-if="$store.booksApp.selectedBook.readState === 'finished'"
                    >
                      <svg
                        class="size-[1.3em]"
                        xmlns="http://www.w3.org/2000/svg"
                        fill="#000000"
                        viewBox="0 0 256 256"
                      >
                        <path
                          d="M232.49,80.49l-128,128a12,12,0,0,1-17,0l-56-56a12,12,0,1,1,17-17L96,183,215.51,63.51a12,12,0,0,1,17,17Z"
                        ></path>
                      </svg>
                    </template>
                  </button>
                  <!-- btn3 -->
                  <template
                    x-if="$store.booksApp.selectedBook.readState === 'finished'"
                  >
                    <button
                      @click="$store.booksApp.bookControl.toggleFavorite($store.booksApp.selectedBook)"
                      class="btn btn-square btn-ghost disabled:opacity-30"
                      :disabled="$store.booksApp.selectedBook.isPending"
                    >
                      <template
                        x-if="$store.booksApp.selectedBook.isFavorite == false"
                      >
                        <svg
                          class="size-[1.3em]"
                          xmlns="http://www.w3.org/2000/svg"
                          width="16"
                          height="16"
                          fill="#000000"
                          viewBox="0 0 256 256"
                        >
                          <path
                            d="M225.84,54.13A62.07,62.07,0,0,0,138.32,54L128,63.58,117.68,54a62,62,0,0,0-87.58,87.8l89.35,90.65a12,12,0,0,0,17.1,0l89.29-90.59a62,62,0,0,0,0-87.7Zm-17,70.79L128,206.9,47.13,124.85a38,38,0,0,1,53.74-53.74c.1.1.2.2.31.29l18.64,17.36a12,12,0,0,0,16.36,0L154.82,71.4c.11-.09.21-.19.31-.29a38,38,0,1,1,53.68,53.81Z"
                          ></path>
                        </svg>
                      </template>

                      <template
                        x-if="$store.booksApp.selectedBook.isFavorite == true"
                      >
                        <svg
                          class="size-[1.3em]"
                          xmlns="http://www.w3.org/2000/svg"
                          width="16"
                          height="16"
                          fill="#000000"
                          viewBox="0 0 256 256"
                        >
                          <path
                            d="M240,98a57.63,57.63,0,0,1-17,41L133.7,229.62a8,8,0,0,1-11.4,0L33,139a58,58,0,0,1,82-82.1L128,69.05l13.09-12.19A58,58,0,0,1,240,98Z"
                          ></path>
                        </svg>
                      </template>
                    </button>
                  </template>
                </div>
                <!-- close btn -->
                <button
                  @click="$store.booksApp.selectedBook = null"
                  class="absolute -right-8 top-1 cursor-pointer"
                >
                  <svg
                    class="size-[1.3em]"
                    xmlns="http://www.w3.org/2000/svg"
                    width="32"
                    height="32"
                    fill="#fff"
                    viewBox="0 0 256 256"
                  >
                    <path
                      d="M208.49,191.51a12,12,0,0,1-17,17L128,145,64.49,208.49a12,12,0,0,1-17-17L111,128,47.51,64.49a12,12,0,0,1,17-17L128,111l63.51-63.52a12,12,0,0,1,17,17L145,128Z"
                    ></path>
                  </svg>
                </button>
              </div>
            </div>
          </div>
        </template>
      </div>
    </main>
  </body>
</html>
